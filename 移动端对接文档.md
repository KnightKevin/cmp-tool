# 移动端对接文档

## 登录逻辑（企业微信登录对接后端暂未实现，先用传统的登录方式，后期换个接口就行）

1. 先调用登录接口，拿到token
2. 根据token去查"查询登录用户拥有访问权限的组织列表"接口，接口会返回`joinedVdcIds`字段，这个字段的意思是当前用户可以进入那些组织。因为后续接口都需要传一个组织id才能调通，所以pc端登录后须要选择一个组织才行。不过在移动端做了逻辑简化，若这个数组中有常量'7c54bc609ffa49caa47f8d22f4d07672'就优先选这个，否则就默认第一个就好。这个须要在用户会话期间一致用，所以前端请妥善维护


## 接口参考

### 待我处理/我的审批
http://180.169.211.117:11021/ticket-swagger/doc.html#/%E5%B7%A5%E5%8D%95%E4%B8%AD%E5%BF%83/[%E5%B7%A5%E5%8D%95%E4%B8%AD%E5%BF%83][%E6%B5%81%E7%A8%8B%E7%AE%A1%E7%90%86]/approvePageListUsingGET


### 申请单详情：待处理，我的申请，所有申请
http://180.169.211.117:11021/ticket-swagger/doc.html#/%E5%B7%A5%E5%8D%95%E4%B8%AD%E5%BF%83/[%E5%B7%A5%E5%8D%95%E4%B8%AD%E5%BF%83][%E6%B5%81%E7%A8%8B%E7%AE%A1%E7%90%86]/getDetailUsingGET_1


### 查询申请内容
http://180.169.211.117:11021/ticket-swagger/doc.html#/%E5%B7%A5%E5%8D%95%E4%B8%AD%E5%BF%83/[%E5%B7%A5%E5%8D%95%E4%B8%AD%E5%BF%83][%E8%AE%A2%E5%8D%95%E7%AE%A1%E7%90%86]/queryOrderParamsUsingGET


### 根据申请模板id查询模板详情，用于展示审批拓扑图
http://180.169.211.117:11021/base-swagger/doc.html#/%E6%B5%81%E7%A8%8B%E5%AE%A1%E6%89%B9/[%E6%B5%81%E7%A8%8B%E6%A8%A1%E6%9D%BF]/queryDetailWithProcDefIdUsingGET


### 查询审批单的执行记录
http://180.169.211.117:11021/base-swagger/doc.html#/%E6%B5%81%E7%A8%8B%E5%AE%A1%E6%89%B9/[%E6%B5%81%E7%A8%8B%E5%AE%A1%E6%89%B9]/ListProcessRecordUsingGET

### 取消审批
http://180.169.211.117:11021/base-swagger/doc.html#/%E6%B5%81%E7%A8%8B%E5%AE%A1%E6%89%B9/[%E6%B5%81%E7%A8%8B%E5%AE%A1%E6%89%B9]/cancelFlowUsingPOST

### 处理审批
http://180.169.211.117:11021/base-swagger/doc.html#/%E6%B5%81%E7%A8%8B%E5%AE%A1%E6%89%B9/[%E6%B5%81%E7%A8%8B%E5%AE%A1%E6%89%B9]/handleFlowUsingPOST

### 账号登录
http://180.169.211.117:11021/portal-swagger/doc.html#/%E9%97%A8%E6%88%B7%E6%9C%8D%E5%8A%A1/[%E5%85%AC%E5%85%B1%E6%A8%A1%E5%9D%97]%20[%E7%94%A8%E6%88%B7%E7%99%BB%E5%BD%95%E7%99%BB%E5%87%BA%E6%93%8D%E4%BD%9C]/loginUsingPOST

# 查询登录用户拥有访问权限的vdc列表
http://180.169.211.117:11021/portal-swagger/doc.html#/%E9%97%A8%E6%88%B7%E6%9C%8D%E5%8A%A1/[%E5%85%AC%E5%85%B1%E6%A8%A1%E5%9D%97]%20[vdc%EF%BC%88%E5%B9%B3%E5%8F%B0%EF%BC%89%E8%A7%86%E5%9B%BE%E6%93%8D%E4%BD%9C]/queryAccessVdcListUsingGET
